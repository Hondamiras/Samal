{% extends 'base.html' %}
{% load static %}
{% block title %}Контакты{% endblock %}
{% block content %}

<!-- Hero Section -->
<section class="mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 py-6 sm:py-6 mb-12">
  <div class="container mx-auto px-4 sm:px-6 md:px-8 text-center">
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-800 mb-4 animate-slide-in">
      Свяжитесь с нами
    </h1>
    <p class="text-base sm:text-lg text-gray-600 max-w-2xl mx-auto">
      Если у вас возникли вопросы или предложения, заполните форму, и мы свяжемся с вами в ближайшее время.
    </p>
  </div>
</section>

<!-- Важная информация -->
<section role="alert" class="bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-12 container mx-auto px-4 sm:px-6 md:px-8">
  <p class="font-semibold">Важная информация:</p>
  <p class="mt-1">
    Пожалуйста, указывайте корректные имя, Email и телефон — без них мы не сможем с вами связаться. Все данные конфиденциальны.
  </p>
</section>

{% comment %} {% if messages %}
  {% for message in messages %}
  <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4 container mx-auto" role="alert">
    <strong class="font-bold">{{ message.tags }}</strong>
    <span class="block sm:inline">{{ message }}</span>
    <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
      <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" onclick="this.parentElement.parentElement.remove();">
        <title>Close</title>
        <path d="M14.348 5.652a1 1 0 00-1.414 0L10 9.586 7.066 6.652a1 1 0 00-1.414 1.414L8.586 11l-2.934 2.934a1 1 0 001.414 1.414L10 12.414l3.934 3.934a1 1 0 001.414-1.414L11.414 11l2.934-2.934a1 1 0 000-1.414z"/>
      </svg>
    </span>
  </div>
  {% endfor %}
{% endif %} {% endcomment %}

<!-- Contact Section -->
<div class="container mx-auto px-4 sm:px-6 md:px-8 mb-12 sm:mb-16">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">

    <!-- О компании -->
    <section class="bg-white rounded-xl shadow-lg p-6 border border-gray-100">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">О компании</h2>
      <p class="text-gray-700 leading-relaxed">
        “Samal Trade and Promotion” основана в 2015 году проектом ведущего узбекского производителя 
        ООО «SAAS TEKS INVEST» для развития текстильного бизнеса в Казахстане. Мы предлагаем качественные 
        трикотажные полотна, готовые изделия и аксессуары собственного производства по гибкой ценовой политике.
      </p>
    </section>

    <!-- Наши приоритеты -->
    <section class="bg-white rounded-xl shadow-lg p-6 border border-gray-100">
      <h2 class="text-3xl font-bold text-gray-900 mb-6">Наши приоритеты</h2>
      <ul class="space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0">
        <li class="flex items-start">
          <svg class="h-6 w-6 text-green-500 flex-shrink-0 mr-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M16.707 5.293a1 1 0 00-1.414-1.414L8 11.172 4.707 7.879a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8z"/>
          </svg>
          <span>Гарантия качества по международным стандартам</span>
        </li>
        <li class="flex items-start">
          <svg class="h-6 w-6 text-green-500 flex-shrink-0 mr-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M16.707 5.293a1 1 0 00-1.414-1.414L8 11.172 4.707 7.879a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8z"/>
          </svg>
          <span>Широкий ассортимент текстиля и изделий</span>
        </li>
        <li class="flex items-start">
          <svg class="h-6 w-6 text-green-500 flex-shrink-0 mr-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M16.707 5.293a1 1 0 00-1.414-1.414L8 11.172 4.707 7.879a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8z"/>
          </svg>
          <span>Гибкая ценовая политика и индивидуальный подход</span>
        </li>
        <li class="flex items-start">
          <svg class="h-6 w-6 text-green-500 flex-shrink-0 mr-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M16.707 5.293a1 1 0 00-1.414-1.414L8 11.172 4.707 7.879a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8z"/>
          </svg>
          <span>Быстрая доставка по всему Казахстану</span>
        </li>
      </ul>
    </section>

    <!-- Contact Form -->
    <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8">
      <form method="post" id="contactForm" class="space-y-6" novalidate>
        {% csrf_token %}
        
        <!-- Имя -->
        <div class="relative">
          <input type="text" 
                 id="name" 
                 name="name" 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                 placeholder="Имя"
                 required>
          <svg class="w-5 h-5 text-gray-400 absolute right-4 top-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>

        <!-- Телефон -->
        <div class="relative">
          <input type="tel" 
                 id="phone" 
                 name="phone" 
                 pattern="[0-9]*"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                 placeholder="Телефон"
                 required>
          <svg class="w-5 h-5 text-gray-400 absolute right-4 top-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
          </svg>
        </div>

        <!-- Email -->
        <div class="relative">
          <input type="email" 
                 id="email" 
                 name="email" 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                 placeholder="Email"
                 required>
          <svg class="w-5 h-5 text-gray-400 absolute right-4 top-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
        </div>

        <!-- Сообщение -->
        <div class="relative">
          <textarea id="message" 
                    name="message" 
                    rows="4"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                    placeholder="Сообщение"
                    required></textarea>
        </div>

        <!-- Подтверждение -->
        <div class="flex items-center">
          <input type="checkbox" 
                 id="humanCheck" 
                 name="humanCheck" 
                 required 
                 class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
          <label for="humanCheck" class="ml-2 text-sm text-gray-600">Я подтверждаю, что я не робот</label>
        </div>

        <!-- Кнопка отправки -->
        <button type="submit"
                id="submitButton"
                disabled
                class="w-full py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-300 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
          Отправить сообщение
        </button>
      </form>
    </div>

    <!-- Контактная информация -->
    <div class="space-y-8">
      <!-- График работы -->
      <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8">
        <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-6">График работы</h2>
        <div class="space-y-2 text-gray-600">
          <div class="flex items-center justify-between">
            <span>Понедельник</span>
            <span>09:00 - 18:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Вторник</span>
            <span>09:00 - 18:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Среда</span>
            <span>09:00 - 18:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Четверг</span>
            <span>09:00 - 18:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Пятница</span>
            <span>09:00 - 18:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Суббота</span>
            <span>09:00 - 13:00</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Воскресенье</span>
            <span>Выходной</span>
          </div>
        </div>
        <p class="mt-4 text-sm text-gray-400">* Время указано для региона: Казахстан, Алматы</p>
      </div>

      
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Toastify сообщения
  {% if messages %}
    {% for message in messages %}
      Toastify({
        text: "{{ message|escapejs }}",
        duration: 5000,
        close: true,
        gravity: "top",
        position: "right",
        style: {
          background: "{% if message.tags == 'success' %}#10B981{% else %}#3B82F6{% endif %}",
          boxShadow: 'none',
          borderRadius: '8px',
          fontFamily: 'inherit'
        }
      }).showToast();
    {% endfor %}
  {% endif %}

  // Валидация телефона
  const phoneInput = document.getElementById('phone');
  phoneInput.addEventListener('input', function(e) {
    this.value = this.value.replace(/[^0-9+]/g, '');
  });

  // Активация кнопки
  const humanCheck = document.getElementById('humanCheck');
  const submitButton = document.getElementById('submitButton');
  submitButton.disabled = true;
  
  humanCheck.addEventListener('change', function() {
    submitButton.disabled = !this.checked;
  });

  // Обработка формы
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    const phoneValue = phoneInput.value.trim();
    if (!/^\+?[0-9]{10,15}$/.test(phoneValue)) {
      e.preventDefault();
      Toastify({
        text: "Пожалуйста, введите корректный номер телефона",
        duration: 5000,
        close: true,
        gravity: "top",
        position: "right",
        style: {
          background: "#EF4444",
          boxShadow: 'none',
          borderRadius: '8px',
          fontFamily: 'inherit'
        }
      }).showToast();
    }
  });
});
</script>

{% endblock %}